# ğŸš€ è‡ªåŠ¨åŒ–å‘å¸ƒæŒ‡å—

æœ¬é¡¹ç›®å·²é…ç½® GitHub Actions è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒåŠŸèƒ½ï¼Œæ”¯æŒ macOSã€Windows å’Œ Linux ä¸‰ä¸ªå¹³å°ã€‚

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šè‡ªåŠ¨å‘å¸ƒï¼ˆæ¨èï¼‰

å½“ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„ Git æ ‡ç­¾æ—¶ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨ä¸ºä¸‰ä¸ªå¹³å°æ„å»ºåº”ç”¨ï¼Œå¹¶åˆ›å»º Releaseã€‚

```bash
# 1. ç¡®ä¿ä»£ç å·²æäº¤
git add .
git commit -m "feat: æ–°åŠŸèƒ½æè¿°"

# 2. åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾ï¼ˆéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰
git tag -a v0.2.0 -m "Version 0.2.0"

# 3. æ¨é€æ ‡ç­¾åˆ° GitHub
git push origin v0.2.0
```

ç„¶åï¼š
- âœ… GitHub Actions è‡ªåŠ¨å¼€å§‹æ„å»ºï¼ˆçº¦ 10-15 åˆ†é’Ÿï¼‰
- âœ… ä¸‰ä¸ªå¹³å°çš„å®‰è£…åŒ…è‡ªåŠ¨ç”Ÿæˆ
- âœ… è‡ªåŠ¨åˆ›å»º GitHub Release
- âœ… ç”¨æˆ·å¯ä»¥ä¸‹è½½å®‰è£…ç¨‹åº

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨è§¦å‘

æ— éœ€åˆ›å»ºæ ‡ç­¾ï¼Œç›´æ¥åœ¨ GitHub æ‰‹åŠ¨è§¦å‘æ„å»ºï¼š

1. æ‰“å¼€ä½ çš„ä»“åº“
2. è¿›å…¥ **Actions** æ ‡ç­¾é¡µ
3. é€‰æ‹© **Build and Release** å·¥ä½œæµ
4. ç‚¹å‡» **Run workflow**
5. ç‚¹å‡»ç»¿è‰²çš„ **Run workflow** æŒ‰é’®

## å·¥ä½œæµè¯´æ˜

### build.yml
- **è§¦å‘æ¡ä»¶**ï¼š
  - æ¨é€å¸¦ `v*` å‰ç¼€çš„æ ‡ç­¾ï¼ˆä¾‹å¦‚ `v0.1.0`, `v0.2.0`ï¼‰
  - æ‰‹åŠ¨è§¦å‘ï¼ˆActions é¡µé¢ï¼‰

- **æ„å»ºçŸ©é˜µ**ï¼š
  - macOS: aarch64ï¼ˆApple Siliconï¼‰+ x86_64ï¼ˆIntelï¼‰
  - Windows: x86_64
  - Linux: x86_64

- **è¾“å‡ºäº§ç‰©**ï¼š
  - **macOS**: `.dmg` å’Œ `.app` æ–‡ä»¶
  - **Windows**: `.msi` å®‰è£…ç¨‹åº + `.exe` å¯æ‰§è¡Œæ–‡ä»¶
  - **Linux**: `.AppImage` + `.deb` åŒ…

### release.yml
- **åŠŸèƒ½**ï¼šè‡ªåŠ¨ç”Ÿæˆ Release Notes
- **åŒ…å«å†…å®¹**ï¼š
  - æœ€è¿‘æäº¤æ—¥å¿—
  - ç‰ˆæœ¬ä¿¡æ¯
  - ä¸‹è½½é“¾æ¥

## ç‰ˆæœ¬æ ‡ç­¾è§„èŒƒ

éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰ï¼š

```
v{ä¸»ç‰ˆæœ¬å·}.{æ¬¡ç‰ˆæœ¬å·}.{ä¿®è®¢å·}

ç¤ºä¾‹ï¼š
v0.1.0    # åˆå§‹ç‰ˆæœ¬
v0.2.0    # æ·»åŠ æ–°åŠŸèƒ½
v0.2.1    # ä¿®å¤ bug
v1.0.0    # ç¨³å®šç‰ˆæœ¬
v2.0.0    # å¤§ç‰ˆæœ¬æ›´æ–°
```

## ç›‘æ§æ„å»ºçŠ¶æ€

1. æ¨é€æ ‡ç­¾åï¼Œè¿›å…¥ä»“åº“çš„ **Actions** æ ‡ç­¾é¡µ
2. ä½ ä¼šçœ‹åˆ° **Build and Release** å·¥ä½œæµæ­£åœ¨è¿è¡Œ
3. ç­‰å¾…ä¸‰ä¸ªå¹³å°çš„æ„å»ºå®Œæˆï¼ˆé€šå¸¸éœ€è¦ 10-15 åˆ†é’Ÿï¼‰
4. å®Œæˆåï¼Œè¿›å…¥ **Releases** æ ‡ç­¾é¡µæŸ¥çœ‹äº§ç‰©

## æ„å»ºå¤±è´¥æ’æŸ¥

å¦‚æœæ„å»ºå¤±è´¥ï¼š

1. ç‚¹å‡»å¤±è´¥çš„å·¥ä½œæµæŸ¥çœ‹æ—¥å¿—
2. å¸¸è§é—®é¢˜ï¼š
   - **ä¾èµ–å®‰è£…å¤±è´¥**ï¼šæ£€æŸ¥ `npm ci` æ˜¯å¦æˆåŠŸ
   - **Rust ç¼–è¯‘å¤±è´¥**ï¼šæ£€æŸ¥ Rust ä»£ç è¯­æ³•é”™è¯¯
   - **èµ„æºç¼ºå¤±**ï¼šç¡®ä¿ `src-tauri/icons/` ç›®å½•æœ‰æ‰€æœ‰å›¾æ ‡æ–‡ä»¶

## è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹æ„å»ºå‚æ•°

ç¼–è¾‘ `.github/workflows/build.yml`ï¼š

```yaml
# ä¿®æ”¹ Node.js ç‰ˆæœ¬
node-version: '18'  # æ”¹ä¸º 18ã€20 ç­‰

# ä¿®æ”¹ Rust ç‰ˆæœ¬
uses: dtolnay/rust-toolchain@nightly  # æ”¹ä¸º nightlyã€beta ç­‰

# æ·»åŠ æ„å»ºå‚æ•°
args: --target ${{ matrix.target }} --verbose
```

### ä¿®æ”¹ Release åç§°

åœ¨ `tauri-action` ä¸­ä¿®æ”¹ï¼š

```yaml
releaseName: Version ${{ github.ref_name }}  # è‡ªå®šä¹‰ Release æ ‡é¢˜
```

## æ‰‹åŠ¨ä¸‹è½½äº§ç‰©

å¦‚æœä¸æƒ³åˆ›å»º Releaseï¼Œåªæƒ³è·å–æ„å»ºäº§ç‰©ï¼š

1. è¿›å…¥ **Actions** æ ‡ç­¾é¡µ
2. æ‰¾åˆ°å®Œæˆçš„å·¥ä½œæµè¿è¡Œ
3. å‘ä¸‹æ»šåŠ¨æ‰¾åˆ° **Artifacts** éƒ¨åˆ†
4. ä¸‹è½½å¯¹åº”å¹³å°çš„äº§ç‰©

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆ macOS æ„å»ºæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Ÿ
A: ä¸€ä¸ªæ˜¯ Apple Siliconï¼ˆaarch64ï¼‰ï¼Œä¸€ä¸ªæ˜¯ Intelï¼ˆx86_64ï¼‰ã€‚ä¸¤ä¸ªéƒ½éœ€è¦æ”¯æŒã€‚

### Q: èƒ½å¦åªæ„å»ºæŸä¸ªå¹³å°ï¼Ÿ
A: å¯ä»¥ï¼ç¼–è¾‘ `build.yml` æ³¨é‡Šæ‰ä¸éœ€è¦çš„ jobï¼ˆä¾‹å¦‚ `build-windows`ï¼‰ã€‚

### Q: å¦‚ä½•åŠ é€Ÿæ„å»ºï¼Ÿ
A: GitHub Actions ä¾èµ–ç¼“å­˜å·²å¯ç”¨ã€‚é¦–æ¬¡æ„å»ºä¼šè¾ƒæ…¢ï¼Œä¹‹åä¼šé€æ¸åŠ å¿«ã€‚

### Q: æ„å»ºéœ€è¦èŠ±å¤šé•¿æ—¶é—´ï¼Ÿ
A:
- é¦–æ¬¡æ„å»ºï¼š15-20 åˆ†é’Ÿï¼ˆéœ€è¦ç¼–è¯‘ Rustï¼‰
- åç»­æ„å»ºï¼š10-15 åˆ†é’Ÿï¼ˆä½¿ç”¨ç¼“å­˜ï¼‰

### Q: å¦‚ä½•ä¿®æ”¹åº”ç”¨ç‰ˆæœ¬å·ï¼Ÿ
A: æ›´æ–° `src-tauri/tauri.conf.json` ä¸­çš„ `version` å­—æ®µï¼Œç„¶ååˆ›å»ºå¯¹åº”ç‰ˆæœ¬çš„æ ‡ç­¾ã€‚

## æ•…éšœæ’æŸ¥æ¸…å•

- [ ] GitHub ä»“åº“å·²è¿æ¥ï¼ˆSettings > Actionsï¼‰
- [ ] `src-tauri/icons/` ç›®å½•åŒ…å«æ‰€æœ‰å›¾æ ‡æ–‡ä»¶
- [ ] `package.json` å’Œ `Cargo.toml` è¯­æ³•æ­£ç¡®
- [ ] æ‰€æœ‰ä¾èµ–å·²å£°æ˜
- [ ] Git æ ‡ç­¾æ ¼å¼æ­£ç¡®ï¼ˆ`v*`ï¼‰
- [ ] æ²¡æœ‰æœªæäº¤çš„æœ¬åœ°æ›´æ”¹

## æ›´å¤šå¸®åŠ©

- [Tauri å®˜æ–¹æ–‡æ¡£](https://tauri.app)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/lang/zh-CN/)
